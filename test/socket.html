<!DOCTYPE html>
<html>
<head>
  <title>Message Service Socket</title>
</head>
<body>
  <script src="../node_modules/socket.io-client/dist/socket.io.js"></script>
  <script>  
    var socket = io.connect('http://localhost:8080');
    socket.on('connect', function(data) {
        socket.emit('subscribe');

        var query = {
            "root": {
              "prototype": "montage/data/model/data-query",
              "values": {
                "criteria": {},
                "orderings": [],
                "prefetchExpressions": null,
                "typeModule": {
                  "%": "data/descriptors/message.mjson"
                }
              }
            }
          };
        socket.emit('fetchData', query);
        socket.on('fetchData', function(data) {
            console.log(data);
        });
    });
</script>
</body>
</html>